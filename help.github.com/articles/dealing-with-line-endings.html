<!DOCTYPE html> <html> <head> <link rel="search" type="application/opensearchdescription+xml" href="../opensearch.xml" title="GitHub:Help" /> <title> Dealing with line endings </title> <link rel="icon" type="image/x-icon" href="../assets/images/site/favicon.ico"> <link rel="stylesheet" href="../assets/stylesheets/application.css"> <script src="../assets/application.js"></script> <script src="../assets/application_cs.js"></script> <meta name="Description" content=" If you&#39;re using Git to collaborate with others on GitHub, ensure that Git is properly configured to handle line endings. Every time you press return on your keyboard you&#39;re actually inseâ€¦"> <script type="text/javascript"> $(function() { $('#quicksearch-query').lunrSearch({ indexUrl: '/search/search.json', quickSearchResults: '.autocomplete-results', quickSearchEntries: '.result-group', quickSearchTemplate: '#quicksearch-results-template', searchResults: '.search-container', searchEntries: '.search-results', searchTemplate: '#search-results-template' }); }); </script> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-3769691-27']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> <meta http-equiv="Content-Type" content="text/html;charset=utf-8" /> </head> <body id="com">


<!-- Copyright © 2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  (Unregistered) on  10/25/14 9:51:15.<br>
<b>Address:</b> <a class="info" href="https://help.github.com/articles/dealing-with-line-endings">https://help.github.com/articles/dealing-with-line-endings</a><br>
<b>Title:</b> Dealing with line endings &nbsp;&bull;&nbsp; <b>Size:</b> 13323 &nbsp;&bull;&nbsp; <b>Last Modified:</b> Thu, 23 Oct 2014 03:01:59 GMT<br></div>
<!-- /Copyright © 2005. Spidersoft Ltd -->

 <div id="not-footer"> <div id="header"> <div class="clearfix"> <h1 class="site-logo"><a href="../help.github.html">GitHub Help</a></h1> <ul class="top-nav"> <li><a href="https://github.com/contact">Contact Support</a></li> <li><a href="http://www.github.com/">Return to GitHub</a></li> </ul> </div> </div> <div id="content-wrapper"> <div class="site"> <div class="content-header small"> <h6 class="breadcrumbs"> <!-- hidden articles do not have categories --> <a href="../categories/setup.html"> Setup </a> / Dealing with line endings </h6> <div class="search-form small"> <script id="quicksearch-results-template" type="text/mustache"> <div class="header"> <a class="initial quicksearch-seemore" href="/search?q=">See more results</a> </div> {{#entries}} <tr class="article"> <td class="info"> <a href="{{url}}" class="js-articles-quicksearch-link">{{title}}</a> </td> </tr> {{/entries}} </script> <form accept-charset="UTF-8" action="/search" id="articles-search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div> <div class="outer"> <div class="inner fade-label"> <input type="text" name="q" id="quicksearch-query" class="js-articles-quicksearch" placeholder="How can we help?" /> <button><span class="octicon octicon-search"></span>Search</button> </div> </div> </form> <div class="autocomplete-results" style="display: none;"> <table class="result-group" border="0" cellpadding="0" cellspacing="0"> </table> </div> </div> <span class="last-updated-at">Article last updated on <span class="last-modified-at-date">23-Oct-14</span></span> </div> <div class="article js-hide-during-search"> <h2>Dealing with line endings</h2> <div id="article-platform-nav"> <ul> <!-- http://bit.ly/TE6i98 --> <li class="platform-mac"> <a href="#platform-mac" data-platform="mac"> mac </a> </li> <li class="platform-windows"> <a href="#platform-windows" data-platform="windows"> windows </a> </li> <li class="platform-linux"> <a href="#platform-linux" data-platform="linux"> linux </a> </li> <li class="platform-all"> <a href="#platform-all" data-platform="all"> all </a> </li> </ul> </div> <div class="article-body content-body wikistyle markdown-format"> <div class="intro"> <p>If you're using Git to collaborate with others on GitHub, ensure that Git is properly configured to handle line endings.</p> </div> <p>Every time you press <kbd>return</kbd> on your keyboard you're actually inserting an invisible character called a <em>line ending</em>. Historically, different operating systems have handled line endings differently.</p> <p>When you view changes in a file, Git handles line endings in its own way. Since you're collaborating on projects with Git and GitHub, Git might produce unexpected results if, for example, you're working on a Windows machine, and your collaborator has made a change in OS X.</p> <h3> <a name="global-settings-for-line-endings" class="anchor" href="#global-settings-for-line-endings"><span class="octicon octicon-link"></span></a>Global settings for line endings</h3> <p>The <code>git config core.autocrlf</code> command is used to change how Git handles line endings. It takes a single argument.</p> <div class="platform-mac"> <p>On OS X, you simply pass <code>input</code> to the configuration. For example:</p><pre class="command-line">
<span class="command">git config --global core.autocrlf input</span>
<span class="comment"># Configure Git on OS X to properly handle line endings</span>
</pre></div> <div class="platform-windows"> <p>On Windows, you simply pass <code>true</code> to the configuration. For example:</p><pre class="command-line">
<span class="command">git config --global core.autocrlf true</span>
<span class="comment"># Configure Git on Windows to properly handle line endings</span>
</pre></div> <div class="platform-linux"> <p>On Linux, you simply pass <code>input</code> to the configuration. For example:</p><pre class="command-line">
<span class="command">git config --global core.autocrlf input</span>
<span class="comment"># Configure Git on Linux to properly handle line endings</span>
</pre></div> <div class="platform-all"> <p>On OS X and Linux, you usually want to pass <code>input</code> for this setting. On Windows, you usually want to use <code>true</code>. For example:</p><pre class="command-line">
<span class="command">git config --global core.autocrlf input</span>
<span class="comment"># Configure Git on OS X or Linux to properly handle line endings</span>

<span class="command">git config --global core.autocrlf true</span>
<span class="comment"># Configure Git on Windows to properly handle line endings</span>
</pre></div> <p>You can also provide a special <code>--global</code> flag, which makes Git use the same settings for line endings across <em>every</em> local Git repository on your computer.</p> <h3> <a name="per-repository-settings" class="anchor" href="#per-repository-settings"><span class="octicon octicon-link"></span></a>Per-repository settings</h3> <p>Optionally, you can configure the way Git manages line endings on a per-repository basis by configuring a special <em>.gitattributes</em> file. This file is committed into the repository and overrides an individual's <code>core.autocrlf</code> setting, ensuring consistent behavior for all users, regardless of their Git settings. The advantage of a <em>.gitattributes</em> file is that your line configurations are associated with your repository. You don't need to worry about whether or not collaborators have the same line ending settings that you do.</p> <p>The <em>.gitattributes</em> file must be created in the root of the repository and committed like any other file. Here's <a href="https://github.com/github/developer.github.com/blob/fd5c0e653323bfad50eda21f8915155293b4293d/.gitattributes">an example of the file</a> in the GitHub Developer's Guide.</p> <p>A <em>.gitattributes</em> file looks like a table with two columns:</p> <ul> <li>On the left is the file name for Git to match.</li> <li>On the right is the line ending configuration that Git should use for those files.</li> </ul> <h4> <a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h4> <p>Here's an example <em>.gitattributes</em> file. You can use it as a template for your repositories:</p><pre><code># Set the default behavior, in case people don't have core.autocrlf set.
* text=auto

# Explicitly declare text files you want to always be normalized and converted
# to native line endings on checkout.
*.c text
*.h text

# Declare files that will always have CRLF line endings on checkout.
*.sln text eol=crlf

# Denote all files that are truly binary and should not be modified.
*.png binary
*.jpg binary
</code></pre><p>You'll notice that files are matched--<code>*.c</code>, <code>*.sln</code>, <code>*.png</code>--, separated by a space, then given a setting--<code>text</code>, <code>text eol=crlf</code>, <code>binary</code>. We'll go over some possible settings below.</p> <p></p><dl> <dt><code>text=auto</code></dt> <dd>Git will handle the files in whatever way it thinks is best. This is a good default option.</dd> <p></p> <dt><code>text eol=crlf</code></dt> <dd>Git will always convert line endings to <code>CRLF</code> on checkout. You should use this for files that must keep <code>CRLF</code> endings, even on OSX or Linux. For example, <a href="https://github.com/lattesir/WindowsViaCPP/blob/master/.gitattributes">here is a Windows project</a> that enforce <code>CRLF</code> line endings.</dd> <p></p> <dt><code>text eol=lf</code></dt> <dd>Git will always convert line endings to <code>LF</code> on checkout. You should use this for files that must keep LF endings, even on Windows. For example, <a href="https://github.com/gruntjs/grunt-contrib-less/blob/master/.gitattributes">here is a project</a> that enforce <code>LF</code> line endings.</dd> <p></p> <dt><code>binary</code></dt> <dd>Git will understand that the files specified are not text, and it should not try to change them. The <code>binary</code> setting is also an alias for <code>-text -diff</code>.</dd> <h3> <a name="refreshing-a-repository-after-changing-line-endings" class="anchor" href="#refreshing-a-repository-after-changing-line-endings"><span class="octicon octicon-link"></span></a>Refreshing a repository after changing line endings</h3> <p>After you've set the <code>core.autocrlf</code> option and committed a <em>.gitattributes</em> file, you may find that Git wants to commit files that you have not modified. At this point, Git is eager to change the line endings of <em>every file</em> for you.</p> <p>The best way to automatically configure your repository's line endings is to first backup your files with Git, delete every file in your repository (<strong>except the <em>.git</em> directory</strong>), and then restore the files all at once.</p> <ol> <li> <p>Save your current files in Git, so that none of your work is lost.</p><pre class="command-line">
<span class="command">git add . -u</span>
<span class="command">git commit -m "Saving files before refreshing line endings"</span>
</pre></li> <li> <p>Remove every file from Git's index.</p><pre class="command-line">
<span class="command">git rm --cached -r .</span>
</pre></li> <li> <p>Rewrite the Git index to pick up all the new line endings.</p><pre class="command-line">
<span class="command">git reset --hard</span>
</pre></li> <li> <p>Add all your changed files back, and prepare them for a commit. This is your chance to inspect which files, if any, were unchanged.</p><pre class="command-line">
<span class="command">git add .</span>
<span class="comment"># It is perfectly safe to see a lot of messages here that read</span>
<span class="comment"># "warning: CRLF will be replaced by LF in <em>file</em>."</span>
</pre></li> <li> <p>Commit the changes to your repository.</p><pre class="command-line">
<span class="command">git commit -m "Normalize all the line endings"</span>
</pre></li> </ol> <p><em>Thanks to <a href="http://stackoverflow.com/questions/1510798/trying-to-fix-line-endings-with-git-filter-branch-but-having-no-luck/1511273#1511273">Charles Bailey's post on Stack Overflow</a> for the basis to this solution.</em></p> <h3> <a name="further-reading" class="anchor" href="#further-reading"><span class="octicon octicon-link"></span></a>Further reading</h3> <ul> <li>"<a href="http://git-scm.com/book/en/Customizing-Git-Git-Attributes">Customizing Git - Git Attributes</a>" from the Pro Git book</li> <li>"<a href="http://git-scm.com/docs/git-config">git-config(1) Manual Page</a>"</li> <li>"<a href="http://git-scm.com/book/en/Getting-Started-First-Time-Git-Setup">Getting Started - First-Time Git Setup</a>" from the Pro Git book</li> <li>"<a href="http://adaptivepatchwork.com/2012/03/01/mind-the-end-of-your-line/">Mind the End of Your Line</a>" - The full story of line endings in Git by <a href="https://github.com/tclem">Tim Clem</a> </li> </ul> </dl> </div> <div class="support-footer"> <hr /> <ul class="article-footer button-nav"> <li> <a href="https://github.com/contact" class="minibutton"> <span class="octicon octicon-comment-discussion"></span> Contact a human </a> </li> </ul> </div> </div> <div class="clear"></div> </div> </div> </div> <div id="footer"> <div class="inner"> <a href="https://github.com/" class="invertocat"> <img alt="The GitHub Logo" src="../assets/images/site/invertocat.png" width="24" height="24" /> </a> <p class="left"> &copy; <span id="year">2014</span> GitHub Inc. All rights reserved. </p> <ul class="links right"> <li><a href="../terms-of-service.html">Terms of Service</a></li> <li><a href="../privacy-policy.html">Privacy</a></li> <li><a href="../security.html">Security</a></li> </ul> </div> </div> </body> </html>
