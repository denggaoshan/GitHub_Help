<!DOCTYPE html> <html> <head> <link rel="search" type="application/opensearchdescription+xml" href="../opensearch.xml" title="GitHub:Help" /> <title> Error: Permission denied (publickey) </title> <link rel="icon" type="image/x-icon" href="../assets/images/site/favicon.ico"> <link rel="stylesheet" href="../assets/stylesheets/application.css"> <script src="../assets/application.js"></script> <script src="../assets/application_cs.js"></script> <meta name="Description" content=" A &quot;Permission denied&quot; error means that the server rejected your connection. There could be several reasons why, and the most common examples are explained below. Should the sudo commaâ€¦"> <script type="text/javascript"> $(function() { $('#quicksearch-query').lunrSearch({ indexUrl: '/search/search.json', quickSearchResults: '.autocomplete-results', quickSearchEntries: '.result-group', quickSearchTemplate: '#quicksearch-results-template', searchResults: '.search-container', searchEntries: '.search-results', searchTemplate: '#search-results-template' }); }); </script> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-3769691-27']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> <meta http-equiv="Content-Type" content="text/html;charset=utf-8" /> </head> <body id="com">


<!-- Copyright © 2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  (Unregistered) on  10/25/14 9:51:16.<br>
<b>Address:</b> <a class="info" href="https://help.github.com/articles/error-permission-denied-publickey">https://help.github.com/articles/error-permission-denied-publickey</a><br>
<b>Title:</b> Error: Permission denied (publickey) &nbsp;&bull;&nbsp; <b>Size:</b> 17358 &nbsp;&bull;&nbsp; <b>Last Modified:</b> Thu, 23 Oct 2014 03:01:59 GMT<br></div>
<!-- /Copyright © 2005. Spidersoft Ltd -->

 <div id="not-footer"> <div id="header"> <div class="clearfix"> <h1 class="site-logo"><a href="../help.github.html">GitHub Help</a></h1> <ul class="top-nav"> <li><a href="https://github.com/contact">Contact Support</a></li> <li><a href="http://www.github.com/">Return to GitHub</a></li> </ul> </div> </div> <div id="content-wrapper"> <div class="site"> <div class="content-header small"> <h6 class="breadcrumbs"> <!-- hidden articles do not have categories --> <a href="../categories/ssh.html"> SSH </a> / Error: Permission denied (publickey) </h6> <div class="search-form small"> <script id="quicksearch-results-template" type="text/mustache"> <div class="header"> <a class="initial quicksearch-seemore" href="/search?q=">See more results</a> </div> {{#entries}} <tr class="article"> <td class="info"> <a href="{{url}}" class="js-articles-quicksearch-link">{{title}}</a> </td> </tr> {{/entries}} </script> <form accept-charset="UTF-8" action="/search" id="articles-search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div> <div class="outer"> <div class="inner fade-label"> <input type="text" name="q" id="quicksearch-query" class="js-articles-quicksearch" placeholder="How can we help?" /> <button><span class="octicon octicon-search"></span>Search</button> </div> </div> </form> <div class="autocomplete-results" style="display: none;"> <table class="result-group" border="0" cellpadding="0" cellspacing="0"> </table> </div> </div> <span class="last-updated-at">Article last updated on <span class="last-modified-at-date">23-Oct-14</span></span> </div> <div class="article js-hide-during-search"> <h2>Error: Permission denied (publickey)</h2> <div id="article-platform-nav"> <ul> <!-- http://bit.ly/TE6i98 --> <li class="platform-mac"> <a href="#platform-mac" data-platform="mac"> mac </a> </li> <li class="platform-windows"> <a href="#platform-windows" data-platform="windows"> windows </a> </li> <li class="platform-linux"> <a href="#platform-linux" data-platform="linux"> linux </a> </li> <li class="platform-all"> <a href="#platform-all" data-platform="all"> all </a> </li> </ul> </div> <div class="article-body content-body wikistyle markdown-format"> <div class="intro"> <p>A "Permission denied" error means that the server rejected your connection. There could be several reasons why, and the most common examples are explained below.</p> </div> <h3> <a name="should-the-sudo-command-be-used-with-git" class="anchor" href="#should-the-sudo-command-be-used-with-git"><span class="octicon octicon-link"></span></a>Should the <code>sudo</code> command be used with Git?</h3> <p>You should not be using the <code>sudo</code> command with Git. If you have a <em>very good reason</em> you must use <code>sudo</code>, then ensure you are using it with every command (it's probably just better to use <code>su</code> to get a shell as root at that point). If you <a href="generating-ssh-keys.html">generate SSH keys</a> without <code>sudo</code> and then try to use a command like <code>sudo git push</code>, you won't be using the same keys that you generated.</p> <h3> <a name="check-that-you-are-connecting-to-the-correct-server" class="anchor" href="#check-that-you-are-connecting-to-the-correct-server"><span class="octicon octicon-link"></span></a>Check that you are connecting to the correct server</h3> <p>Typing is hard, we all know it. Pay attention to what you type; you won't be able to connect to "githib.com" or "guthub.com". In some cases, a corporate network may cause issues resolving the DNS record as well.</p> <p>To make sure you are connecting to the right domain, you can enter the following command:</p><pre class="command-line">
<span class="command">ssh -vT git@github.com</span>
<span class="output"><span># </span>OpenSSH_5.6p1, OpenSSL 0.9.8r 8 Feb 2011</span>
<span class="output"><span># </span>debug1: Reading configuration data /Users/<em>you</em>/.ssh/config</span>
<span class="output"><span># </span>debug1: Reading configuration data /etc/ssh_config</span>
<span class="output"><span># </span>debug1: Applying options for *</span>
<span class="output"><span># </span>debug1: Connecting to github.com [192.30.252.131] port 22.</span>
</pre><p>Note the IP address (the numbers within the <code>[ ]</code> brackets). The connection should be made to a <a href="what-ip-addresses-does-github-use-that-i-should-whitelist.html">GitHub IP address</a>, on port 22, unless you're overriding settings to use <a href="using-ssh-over-the-https-port.html">SSH over HTTPS</a>.</p> <h3> <a name="always-use-the-git-user" class="anchor" href="#always-use-the-git-user"><span class="octicon octicon-link"></span></a>Always use the "git" user</h3> <p>All connections must be made as the "git" user. If you try to connect to "<a href="mailto:yourname@github.com">yourname@github.com</a>", it will fail:</p><pre class="command-line">
<span class="command">ssh -T billy.anyteen@github.com</span>
<span class="output"><span># </span>Permission denied (publickey).</span>
</pre><p>Instead, you should verify your connection by typing:</p><pre class="command-line">
<span class="command">ssh -T git@github.com</span>
<span class="output"><span># </span>Hi <em>username</em>! You've successfully authenticated...</span>
</pre><h3> <a name="make-sure-you-have-a-key-that-is-being-used" class="anchor" href="#make-sure-you-have-a-key-that-is-being-used"><span class="octicon octicon-link"></span></a>Make sure you have a key that is being used</h3> <p>To verify that you have a private key generated and loaded into SSH, type <code>ssh-add -l</code>:</p> <div class="platform-mac"><pre class="command-line">
<span class="comment"># start the ssh-agent in the background</span>
<span class="command">eval "$(ssh-agent -s)"</span>
<span class="output"><span># </span>Agent pid 59566</span>
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>you</em>/.ssh/id_rsa (RSA)</span>
</pre></div> <div class="platform-windows"><pre class="command-line">
<span class="comment"># start the ssh-agent in the background</span>
<span class="command">ssh-agent -s</span>
<span class="output"><span># </span>Agent pid 59566</span>
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>you</em>/.ssh/id_rsa (RSA)</span>
</pre></div> <div class="platform-linux"><pre class="command-line">
<span class="comment"># start the ssh-agent in the background</span>
<span class="command">eval "$(ssh-agent -s)"</span>
<span class="output"><span># </span>Agent pid 59566</span>
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>you</em>/.ssh/id_rsa (RSA)</span>
</pre></div> <div class="platform-all"><pre class="command-line">
<span class="comment"># start the ssh-agent in the background</span>
<span class="command">eval "$(ssh-agent -s)"</span>
<span class="output"><span># </span>Agent pid 59566</span>
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>you</em>/.ssh/id_rsa (RSA)</span>
</pre></div> <p>If that command does not print anything, you will need to load an existing SSH keyâ€”or <a href="generating-ssh-keys.html">a new SSH key that you have generated</a>â€”by running <code>ssh-add path/to/key</code>.</p> <div class="alert tip"> <p><strong>Tip</strong>: On most systems the default private keys (<code>~/.ssh/id_rsa</code>, <code>~/.ssh/id_dsa</code> and <code>~/.ssh/identity</code>) are automatically added to the SSH authentication agent. You shouldn't need to run <code>ssh-add path/to/key</code> unless you override the file name when you generate a key.</p> </div> <h4> <a name="getting-more-details" class="anchor" href="#getting-more-details"><span class="octicon octicon-link"></span></a>Getting more details</h4> <p>You can also check that the key is being used by trying to connect to <code>git@github.com</code>:</p><pre class="command-line">
<span class="command">ssh -vT git@github.com</span>
<span class="output"><span># </span>...</span>
<span class="output"><span># </span>debug1: identity file /Users/<em>you</em>/.ssh/id_rsa type -1</span>
<span class="output"><span># </span>debug1: identity file /Users/<em>you</em>/.ssh/id_rsa-cert type -1</span>
<span class="output"><span># </span>debug1: identity file /Users/<em>you</em>/.ssh/id_dsa type -1</span>
<span class="output"><span># </span>debug1: identity file /Users/<em>you</em>/.ssh/id_dsa-cert type -1</span>
<span class="output"><span># </span>...</span>
<span class="output"><span># </span>debug1: Authentications that can continue: publickey</span>
<span class="output"><span># </span>debug1: Next authentication method: publickey</span>
<span class="output"><span># </span>debug1: Trying private key: /Users/<em>you</em>/.ssh/id_rsa</span>
<span class="output"><span># </span>debug1: Trying private key: /Users/<em>you</em>/.ssh/id_dsa</span>
<span class="output"><span># </span>debug1: No more authentication methods to try.</span>
<span class="output"><span># </span>Permission denied (publickey).</span>
</pre><p>In that example, we did not have any keys for SSH to use. The "-1" at the end of the "identity file" lines means SSH couldn't find a file to use. Later on, the "Trying private key" lines also indicate that no file was found. If a file existed, those lines would be "1" and "Offering public key", respectively:</p><pre class="command-line">
<span class="command">ssh -vT git@github.com</span>
<span class="output"><span># </span>...</span>
<span class="output"><span># </span>debug1: identity file /Users/<em>you</em>/.ssh/id_rsa type 1</span>
<span class="output"><span># </span>...</span>
<span class="output"><span># </span>debug1: Authentications that can continue: publickey</span>
<span class="output"><span># </span>debug1: Next authentication method: publickey</span>
<span class="output"><span># </span>debug1: Offering RSA public key: /Users/<em>you</em>/.ssh/id_rsa</span>
</pre><h3> <a name="verify-the-public-key-is-attached-to-your-github-account" class="anchor" href="#verify-the-public-key-is-attached-to-your-github-account"><span class="octicon octicon-link"></span></a>Verify the public key is attached to your GitHub account</h3> <p>You must provide your public key to GitHub to establish a secure connection.</p> <div class="platform-mac"> <ol> <li>Open Terminal.</li> <li> <p>Start SSH agent in the background.</p><pre class="command-line">
<span class="command">eval "$(ssh-agent -s)"</span>
<span class="output"><span># </span>Agent pid 59566</span>
</pre></li> <li> <p>Enter <code>ssh-add -l</code> and take note of the resulting fingerprint:</p><pre class="command-line">
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>USERNAME</em>/.ssh/id_rsa (RSA)</span>
</pre></li> <li><p>In the user settings sidebar, click <strong>SSH keys</strong>. <img src="../assets/images/help/settings/settings-sidebar-ssh-keys.png" alt="SSH keys"></p></li> <li><p>Compare the list of SSH keys with the output from <code>ssh-add -l</code>. <img src="../assets/images/help/settings/ssh_key_listing.png" alt="SSH key listing in GitHub"></p></li> </ol> </div> <div class="platform-windows"> <ol> <li>Open the command line.</li> <li> <p>Start SSH agent in the background.</p><pre class="command-line">
<span class="command">ssh-agent -s</span>
<span class="output"><span># </span>Agent pid 59566</span>
</pre></li> <li> <p>Enter <code>ssh-add -l</code> and take note of the resulting fingerprint:</p><pre class="command-line">
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>USERNAME</em>/.ssh/id_rsa (RSA)</span>
</pre></li> <li><p>In the user settings sidebar, click <strong>SSH keys</strong>. <img src="../assets/images/help/settings/settings-sidebar-ssh-keys.png" alt="SSH keys"></p></li> <li><p>Compare the list of SSH keys with the output from <code>ssh-add -l</code>. <img src="../assets/images/help/settings/ssh_key_listing.png" alt="SSH key listing in GitHub"></p></li> </ol> </div> <div class="platform-linux"> <ol> <li>Open Terminal.</li> <li> <p>Start SSH agent in the background.</p><pre class="command-line">
<span class="command">eval "$(ssh-agent -s)"</span>
<span class="output"><span># </span>Agent pid 59566</span>
</pre></li> <li> <p>Enter <code>ssh-add -l</code> and take note of the resulting fingerprint:</p><pre class="command-line">
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>USERNAME</em>/.ssh/id_rsa (RSA)</span>
</pre></li> <li><p>In the user settings sidebar, click <strong>SSH keys</strong>. <img src="../assets/images/help/settings/settings-sidebar-ssh-keys.png" alt="SSH keys"></p></li> <li><p>Compare the list of SSH keys with the output from <code>ssh-add -l</code>. <img src="../assets/images/help/settings/ssh_key_listing.png" alt="SSH key listing in GitHub"></p></li> </ol> </div> <div class="platform-all"> <ol> <li>Open Terminal.</li> <li> <p>Start SSH agent in the background.</p><pre class="command-line">
<span class="command">eval "$(ssh-agent -s)"</span>
<span class="output"><span># </span>Agent pid 59566</span>
</pre></li> <li> <p>Enter <code>ssh-add -l</code> and take note of the resulting fingerprint:</p><pre class="command-line">
<span class="command">ssh-add -l</span>
<span class="output"><span># </span>2048 <em>a0:dd:42:3c:5a:9d:e4:2a:21:52:4e:78:07:6e:c8:4d</em> /Users/<em>USERNAME</em>/.ssh/id_rsa (RSA)</span>
</pre></li> <li><p>In the user settings sidebar, click <strong>SSH keys</strong>. <img src="../assets/images/help/settings/settings-sidebar-ssh-keys.png" alt="SSH keys"></p></li> <li><p>Compare the list of SSH keys with the output from <code>ssh-add -l</code>. <img src="../assets/images/help/settings/ssh_key_listing.png" alt="SSH key listing in GitHub"></p></li> </ol> </div> <p>If you don't see your public key in GitHub, you'll need to <a href="https://help.github.com/articles/generating-ssh-keys#step-3-add-your-ssh-key-to-github">add your SSH key to GitHub</a> to associate it with your computer.</p> <div class="alert error"> <p>If you see an SSH key you're not familiar with on GitHub.com or GitHub Enterprise, delete it immediately and contact <a href="../contact.html">GitHub support</a> or your site administrator, respectively, for further help. An unidentified public key may indicate a possible security concern. For more information, see "<a href="https://help.github.com/articles/keeping-your-ssh-keys-and-application-access-tokens-safe#reviewing-your-ssh-keys">Keeping your SSH keys safe</a>."</p> </div> </div> <div class="support-footer"> <hr /> <ul class="article-footer button-nav"> <li> <a href="https://github.com/contact" class="minibutton"> <span class="octicon octicon-comment-discussion"></span> Contact a human </a> </li> </ul> </div> </div> <div class="clear"></div> </div> </div> </div> <div id="footer"> <div class="inner"> <a href="https://github.com/" class="invertocat"> <img alt="The GitHub Logo" src="../assets/images/site/invertocat.png" width="24" height="24" /> </a> <p class="left"> &copy; <span id="year">2014</span> GitHub Inc. All rights reserved. </p> <ul class="links right"> <li><a href="../terms-of-service.html">Terms of Service</a></li> <li><a href="../privacy-policy.html">Privacy</a></li> <li><a href="../security.html">Security</a></li> </ul> </div> </div> </body> </html>
